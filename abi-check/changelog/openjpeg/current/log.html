<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="OpenJPEG, current, changes, changelog" />
    <meta name="description" content="Log of changes in the package" />
    <link rel="stylesheet" type="text/css" href="../../../css/common.css" />
    <link rel="stylesheet" type="text/css" href="../../../css/changelog.css" />
    
    
    <title>
        OpenJPEG current: changelog
    </title>
    
    </head>

<body>
<table cellpadding='0' cellspacing='0'><tr><td align='center'><h1 class='tool'><a title='Home: ABI tracker for OpenJPEG' href='../../../timeline/openjpeg/index.html' class='tool'>ABI<br/>Tracker</a></h1></td><td width='30px;'></td><td><h1>(OpenJPEG)</h1></td></tr></table><hr/>
<br/>
<br/>
<h1>Changelog from Git</h1><br/><br/>
<div class='changelog'>
<pre class='wrap'>commit 13789f65b4f9217a377bd1c379ea00909d39ec04
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2024-02-26 15:25:08 +0100

    abi_check.sh: Update version number for automatic abi check (2.5.0-&gt;2.5.1)

commit 14d03e8ed5dcdb8552c8a4c7c9a383b29a6891cb
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2024-02-26 15:16:49 +0100

    Prepare for OpenJPEG v2.5.1 release

commit 1bba8374f2bfce7b4419be6f29a8da3b01af5f58
Merge: 0f3ca810 017f2bec
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2024-02-18 18:48:29 +0100

    Merge pull request #1511 from rouault/fix_1488_bis
    
    opj_t2_read_packet_header(): avoid unsigned integer overflow

commit 017f2becdddbf31cf60dc6d914478b0b2f728cc7
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2024-02-18 17:59:08 +0100

    opj_t2_read_packet_header(): avoid unsigned integer overflow (alternate fix to https://github.com/uclouvain/openjpeg/pull/1488)

commit 0f3ca8108a1f673001e72ce32eb4912ab2e49e25
Merge: ddffa33f d903fbb4
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2024-02-18 17:43:23 +0100

    Merge pull request #1510 from rouault/fix_1505
    
    opj_dwt_decode_tile(): avoid potential UndefinedBehaviorSanitizer 'applying zero offset to null pointer' (fixes #1505)

commit ddffa33fdfe5d54d9484fb5be40260acd4e694f4
Merge: 89bf51c7 a4050905
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2024-02-18 17:26:37 +0100

    Merge pull request #1507 from kmilos/patch-1
    
    Always install pkgconfig files

commit 89bf51c782639d5799d1378d28470d8bef312eca
Merge: 0e3b3bd7 7bd884f8
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2024-02-18 17:18:36 +0100

    Merge pull request #1509 from rouault/fix_sycc420_to_rgb
    
    opj_decompress: fix off-by-one read heap-buffer-overflow in sycc420_to_rgb() when x0 and y0 are odd (CVE-2021-3575, fixes #1347)

commit d903fbb4ab9ccf9b96c8bc7398fafc0007505a37
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2024-02-18 17:17:00 +0100

    opj_dwt_decode_tile(): avoid potential UndefinedBehaviorSanitizer 'applying zero offset to null pointer' (fixes #1505)

commit 7bd884f8750892de4f50bf4642fcfbe7011c6bdf
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2024-02-18 17:02:25 +0100

    opj_decompress: fix off-by-one read heap-buffer-overflow in sycc420_to_rgb() when x0 and y0 are odd (CVE-2021-3575, fixes #1347)

commit a40509057042c8a03ab6d7060ea1b1d012df472c
Author: Miloš Komarčević &lt;4973094+kmilos@users.noreply.github.com&gt;
Date:   2024-02-13 15:28:36 +0100

    Remove BUILD_PKGCONFIG_FILES

commit 8a0fca8298824957716761beb5b70e6a0f109b18
Author: Miloš Komarčević &lt;4973094+kmilos@users.noreply.github.com&gt;
Date:   2024-02-13 15:22:07 +0100

    Always install pkgconfig files
    
    They are supported on all platforms

commit 0e3b3bd716f2b5178d981b17de9505f94ddfff58
Merge: b0e966ee f8a3e531
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2024-01-13 12:48:18 +0100

    Merge pull request #1493 from domin144/cmake_version_file
    
    Add cmake version file

commit f8a3e53136181134e7ae09751f7a7fb860d08599
Author: Dominik Wójt &lt;domin144@o2.pl&gt;
Date:   2023-12-06 21:04:40 +0100

    Add cmake version file

commit b0e966ee18ec8338805d3ec2dce692b2a26b5407
Merge: 406e1840 65d0326e
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2024-01-08 19:00:53 +0100

    Merge pull request #1503 from domin144/drop_cmake_less_3.5
    
    CMake: drop support for cmake &lt; 3.5

commit 65d0326e5ac8db97314e1c211a20183f939bebb5
Author: Dominik Wójt &lt;domin144@o2.pl&gt;
Date:   2024-01-08 18:07:04 +0100

    CMake: drop support for cmake &lt; 3.5
    
    Compatibility for cmake version &lt; 3.5 is now deprecated in cmake and
    specifing version below 3.5 in cmake_minimum_required produces a
    warning.[1]
    
    [1] https://cmake.org/cmake/help/latest/release/3.27.html#deprecated-and-removed-features

commit 406e1840ffbddacec1eeb58ca445f59441314e61
Merge: 41c25e38 3a100a33
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2024-01-07 18:53:01 +0100

    Merge pull request #1502 from scaramallion/fix-compiler-error
    
    Fix compiler error on Windows

commit 3a100a337e8b6fb9a3b91a5f6686271b9c7fb43b
Author: scaramallion &lt;scaramallion@users.noreply.github.com&gt;
Date:   2024-01-05 11:21:15 +1100

    Fix compiler error on Windows

commit 41c25e3827c68a39b9e20c1625a0b96e49955445
Author: Peter Johnson &lt;johnson.peter@gmail.com&gt;
Date:   2023-12-09 13:02:11 -0800

    ht_dec.c: Improve MSVC arm64 popcount performance (#1479)
    
    Use NEON instructions for ARM64 (implementation based on microsoft/STL#2127).
    
    Godbolt output here: https://godbolt.org/z/q7GPTqT14

commit dfdedea48f0b1f0d7f7d28c5e98be6a64f8febc8
Merge: 49c4ef56 90312af2
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2023-12-08 17:23:24 +0100

    Merge pull request #1496 from rouault/fix_1480
    
    opj_tcd_dc_level_shift_decode(): avoid increment nullptr (fixes #1480)

commit 49c4ef56129b85cce8aaad85e9f22f0f3bc16f2e
Merge: 00e0bdc1 a817136f
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2023-12-08 16:47:34 +0100

    Merge pull request #1490 from headshog/fix-j2k
    
    Integer Overflow at j2k.c:3962

commit 00e0bdc14f3feed681de19d46abb2cd8155f3f66
Merge: 03afd06b 67e6a79b
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2023-12-08 16:47:27 +0100

    Merge pull request #1491 from headshog/fix-j2k-header
    
    Integer Overflow at j2k.c:11114

commit 03afd06b45b5053ba802356151e878e7aa20dc71
Merge: 2c8c5025 478b20d9
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2023-12-08 16:47:20 +0100

    Merge pull request #1492 from headshog/fix-ht-dec
    
    fix ht_dec.c:1215

commit 90312af28d34679e641ce7bd7e3e68a0db49555f
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2023-12-08 16:05:12 +0100

    opj_tcd_dc_level_shift_decode(): avoid increment nullptr (fixes #1480)
    
    (likely harmless issue as we don't dereference it)

commit 2c8c5025ce082df7bb751bc4f7552f3bb923964f
Merge: 65282a0c c4b3a91e
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2023-12-08 15:55:00 +0100

    Merge pull request #1484 from mayeut/mandatory-inttypes-stdint
    
    Require `stdint.h` &amp; `inttypes.h`

commit 65282a0c2fe32668baef03c347ee8d289e2cb647
Merge: b0e83a1b 597389a4
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2023-12-08 15:36:22 +0100

    Merge pull request #1494 from tomoaki0705/suppress_warning_clang
    
    suppress warning during build using clang

commit 478b20d9234d6f856cbb4a2a67ee858dc99293d5
Author: headshog &lt;craaaaaachind@gmail.com&gt;
Date:   2023-12-06 17:57:41 +0300

    opj_t1_ht_decode_cblk(): avoid memcpy() with 0-input size and nullptr destination. fix ht_dec.c:1215 (#1492)

commit 67e6a79bcf6b2ea5503f47954537d14ed37e4a72
Author: headshog &lt;craaaaaachind@gmail.com&gt;
Date:   2023-12-06 17:47:02 +0300

    fix j2k.c:11114

commit a817136f7edbd0e9d9ce46d1faf15506ed9478a0
Author: headshog &lt;craaaaaachind@gmail.com&gt;
Date:   2023-12-06 17:30:29 +0300

    opj_j2k_merge_ppm(): avoid unsigned-integer-overflow at j2k.c:3962 (#1490)

commit b0e83a1b3399f5f847250bdc044a96f22cb156d7
Merge: 67c998fd d5af1d23
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2023-12-08 14:33:49 +0100

    Merge pull request #1495 from rouault/update_kdu
    
    Fix CI

commit d5af1d23a718e1d55ea368bad044f7f2b9e98012
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2023-12-08 12:06:51 +0100

    tools/travis-ci/install.sh: workaround issue with jpylyzer on Mac

commit 597389a45f63a7cd872859eacb267ea1bda64e9e
Author: Tomoaki Teshima &lt;tomoaki.teshima@gmail.com&gt;
Date:   2023-12-08 20:56:37 +0900

    suppress warning during build using clang

commit e21123b6991c2d64339ecebd6617f2f7c42de783
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2023-12-08 11:40:31 +0100

    CI: update KDU to new version (older one no longer available)

commit 67c998fd8dcf7c2276680fab5e508c724ca45e52
Author: Andrew Murray &lt;3112309+radarhere@users.noreply.github.com&gt;
Date:   2023-12-08 21:22:56 +1100

    Fixed typos (#1486)

commit c4b3a91ede1d0301f7f5f50287c0bda35aa7ca7e
Author: mayeut &lt;mayeut@users.noreply.github.com&gt;
Date:   2023-09-24 13:54:28 +0200

    Require `stdint.h` &amp; `inttypes.h`
    
    With #1450 which goes with 480cc9d49775d018c19ce0e01f6be27858d63d39 "Remove support for non-C99 compilers (like VS2010) that don't support snprintf()",
    support for MSVC versions prior to vs2015 is dropped: https://stackoverflow.com/questions/2915672/snprintf-and-visual-studio-2010
    
    This means that all supported MSVC versions do have `stdint.h` &amp; `inttypes.h` now.
    For non windows platforms, those headers were already mandatory.
    
    Make them mandatory for all builds.

commit 6af39314bdb43cb9c7adcdbc7aa9381af42b52ba
Merge: 1ee6d115 dc194c2b
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2023-09-23 14:42:15 +0200

    Merge pull request #1482 from mayeut/use-opj_uint_ceildiv
    
    fix: use `opj_uint_ceildiv` instead of `opj_int_ceildiv` when necessary

commit dc194c2ba824e8c8012a9e4d8daea9af6da42776
Author: mayeut &lt;mayeut@users.noreply.github.com&gt;
Date:   2023-09-23 14:16:30 +0200

    chore: GHA Ubuntu 22.04 now uses gcc 11.4.0

commit d23e0284c9be174cc6daaa594c1139076771e16b
Author: mayeut &lt;mayeut@users.noreply.github.com&gt;
Date:   2023-09-23 11:02:54 +0200

    fix: use `opj_uint_ceildiv` instead of `opj_int_ceildiv` when necessary
    
    There are a bunch of loc where we can see a usage of `opj_int_ceildiv`:
    ```
    (OPJ_UINT32)opj_int_ceildiv((OPJ_INT32)a, (OPJ_INT32)b);
    ```
    where a &amp; b are `OPJ_UINT32`.
    
    This can lead to overflow/underflow for some a/b combinations.
    Replace those calls by `opj_uint_ceildiv` instead to always get a correct result.
    
    This also allows some valid single tile images with huge tile size to be decoded properly.
    Fix #1438

commit 1ee6d115e80036d1d38bad7f95a680bfc612c1bf
Merge: 15c0dca5 59ec1f0a
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2023-03-26 16:08:24 +0200

    Merge pull request #1463 from rouault/fix_570
    
    opj_jp2_read_header(): move setting color_space here instead in opj_jp2_decode()/get_tile() (fixes #570)

commit 59ec1f0ae6edb19f45ab06792aa8902759af6954
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2023-03-26 14:03:59 +0200

    opj_jp2_read_header(): move setting icc_profile here instead in opj_jp2_decode()/get_tile() + add unit test (fixes #570)

commit 0f528e95788863608aa1772f5370659edf618793
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2023-03-17 18:16:35 +0100

    opj_jp2_read_header(): move setting color_space here instead in opj_jp2_decode()/get_tile() (fixes #570)

commit 15c0dca5206d0101de2ce73b97138a2b26949011
Merge: fbdf28a2 eb8a7e44
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2023-03-09 21:15:39 +0100

    Merge pull request #1462 from sebras/master
    
    CMake: error out on warnings for strict/missing prototypes.

commit eb8a7e44279415fdefda6d980b99bd7e00c41da0
Author: Sebastian Rasmussen &lt;sebras@gmail.com&gt;
Date:   2023-03-09 19:20:58 +0100

    CMake: error out on warnings for strict/missing prototypes.
    
    And fix strict-prototypes/missing-prototypes warnings.

commit fbdf28a282cce8e4ba9d6a5d8c2a3332e20f3bb9
Merge: 1a8d13e2 032b6e93
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2023-03-09 20:06:58 +0100

    Merge pull request #1450 from markmentovai/no_sprintf
    
    openjp2/j2k: replace sprintf calls with snprintf

commit 032b6e93cb38b42c365ebd5296ac08ccf5163feb
Author: Mark Mentovai &lt;mark@chromium.org&gt;
Date:   2022-11-07 09:32:02 -0500

    openjp2/j2k: replace sprintf calls with snprintf
    
    This makes it possible to build j2k.c without warnings using the macOS
    13 SDK. Calls to sprintf are replaced with snprintf, passing appropriate
    buffer sizes.
    
    It doesn’t appear that any of the changed uses of sprintf were actually
    unsafe, so no behavior change is expected aside from SDK compatibility.
    
    The macOS 13 SDK deprecates sprintf as it’s difficult to use safely. The
    deprecation warning message is visible when building C++, but it is not
    normally visible when building plain C code due to a quirk in how
    sprintf is declared in the SDK. However, the deprecation message is
    visible when building plain C under Address Sanitizer
    (-fsanitize=address). This discrepancy was discovered at
    https://crbug.com/1381706 and reported to Apple with a copy at
    https://openradar.appspot.com/FB11761475.
    
    The macOS 13 SDK is packaged in Xcode 14.1, released on 2022-11-01. This
    also affects the iOS 16 SDK and other 2022-era Apple OS SDKs packaged in
    Xcode 14.0, released on 2022-09-12.
    
    j2k.c is visible to the Chromium build via PDFium, and this change is
    needed to allow Chromium to move forward to the macOS 13 SDK.
    
    This change is limited to src/lib/openjp2. Other uses of sprintf were
    found throughout openjpeg.

commit 480cc9d49775d018c19ce0e01f6be27858d63d39
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2023-03-07 16:46:55 +0100

    Remove support for non-C99 compilers (like VS2010) that don't support snprintf()

commit 1a8d13e2c51cc59507b361a9c0d1cf51201f7d02
Merge: 97c3c8f5 8f3f837a
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2023-03-07 15:58:24 +0100

    Merge pull request #1461 from rouault/fix_ci
    
    Fix CI

commit 8f3f837ab7db5c2fcbb2288aa21ab8f24a6c01bd
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2023-03-07 15:36:24 +0100

    Fix CI

commit 97c3c8f53231ace8476fd994d9ab2874d319045f
Merge: ee58d770 c33e3d4a
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2023-03-07 15:14:11 +0100

    Merge pull request #1460 from rouault/fix_1459
    
    opj_t2_skip_packet_data(): avoid out-of-bounds reads on truncated images in non-strict mode (fixes #1459)

commit c33e3d4af33a36f214523d062a1187f8c6ec71e0
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2023-03-07 13:08:24 +0100

    opj_t2_skip_packet_data(): avoid out-of-bounds reads on truncated images in non-strict mode (fixes #1459)

commit ee58d77047867dd422593163e660e66a109ba1c0
Author: autoantwort &lt;41973254+autoantwort@users.noreply.github.com&gt;
Date:   2023-02-07 01:08:38 +0100

    CMake: add missing GNUInstallDirs related substitutions (fixes #1424) (#1456)

commit 2d606701e8b7aa83f657d113c3367508e99bd12b
Merge: be955619 6ab3ca69
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-10-19 13:57:31 +0200

    Merge pull request #1448 from rouault/fix_1447
    
    Fix incorrect decoding of image with large number of progression levels

commit 6ab3ca69fd278f0c7830568ab2b15aa43cdb87fa
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-10-18 23:03:02 +0200

    Fix incorrect decoding of image with large number of progression levels
    
    Fixes regression introduced per d27ccf01c68a31ad62b33d2dc1ba2bb1eeaafe7b
    
    Fixes #1447

commit be95561917aa9b1d8ea4614820a534917cfa6bbe
Author: Aleks L &lt;93376818+sashashura@users.noreply.github.com&gt;
Date:   2022-08-12 14:48:41 +0100

    Fix Heap-buffer-overflow READ in opj_jp2_apply_pclr (#1441)
    
    The issue was found while fuzzing opencv:
    https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=47342
    
    The read overflow triggered by reading `src[j]` in
    ```cpp
                for (j = 0; j &lt; max; ++j) {
                    dst[j] = src[j];
                }
    ```
    The max is calculated as `new_comps[pcol].w * new_comps[pcol].h`, however the `src = old_comps[cmp].data;` which may have different `w` and `h` dimensions.

commit 49fea5c45e9924621944d4d484a1d95559d09fbb
Merge: 4da04cd3 c06632c6
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-08-12 11:55:38 +0200

    Merge pull request #1440 from rouault/rate_alloc_speedup
    
    Significant speed-up rate allocation by rate/distoratio ratio

commit 4da04cd3e88a0280be526e16077c540a45cbbfa8
Author: Aous Naman &lt;aous72@yahoo.com&gt;
Date:   2022-08-12 02:29:40 +1000

    Replace the assert in mel_init to an if statement to address an issue with fuzzing. (#1436)
    
    Modified the mel_init code to replace the assert statement with an if statement, returning false when an incorrect sequence of bytes are encountered in the MEL segment.  Similar code should be added to the main MEL decoding subrountine, but the change is more involved; in any case, an incorrect sequence produces incorrect results, but should not be harmful or cause a crash.

commit c06632c6f6d0a3e106374fe462869b131366c2d0
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-08-11 18:06:21 +0200

    Cleanup code related to quality layer allocation, and add a few safety checks

commit 3d9bcd37534ce1166e1f0a7764faf69bea4d89b1
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-08-11 16:46:55 +0200

    Significant speed-up rate allocation by rate/distoratio ratio
    
    - Avoid doing 128 iterations all the time, and stop when the threshold
      doesn't vary much
    - Avoid calling costly opj_t2_encode_packets() repeatdly when bisecting the
      layer ratio if the truncation points haven't changed since the last
      iteration.
    
    When used with the GDAL gdal_translate application to convert a 11977 x
    8745 raster with data type UInt16 and 8 channels, the conversion time
    to JPEG2000 with 20 quality layers using disto/rate allocation (
    -co "IC=C8" -co "JPEG2000_DRIVER=JP2OPENJPEG" -co "PROFILE=NPJE_NUMERICALLY_LOSSLESS"
    creation options of the GDAL NITF driver) goes from 5m56 wall clock
    (8m20s total, 12 vCPUs) down to 1m16 wall clock (3m45 total).

commit e9fc08a52acaf34bdcc0e04b7f716f0a3fb2b846
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-08-11 16:41:57 +0200

    Micro-optimization: use directly opj_bio_putbit() instead of opj_bio_write() to emit single bit

commit 59fb7ea736a10d3476e35f7bbefeb0a74b939607
Merge: c7bccf05 c6ceb84c
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-08-11 14:49:36 +0200

    Merge pull request #1439 from arichardson/relocatable-cmake-config
    
    Make OpenJPEGConfig.cmake relocatable with CMake &gt; 3.0

commit c6ceb84c221b5094f1e8a4c0c247dee3fb5074e8
Author: Alex Richardson &lt;arichardson@FreeBSD.org&gt;
Date:   2022-08-11 12:09:04 +0000

    Make OpenJPEGConfig.cmake relocatable with CMake &gt; 3.0
    
    Using CMakePackageConfigHelpers, we can generate a relocatable
    OpenJPEGConfig.config, using the PATH_VARS feature to make
    CMAKE_INSTALL_LIBDIR relative to the installed location.
    This change is needed for me when cross-compiling since
    CMAKE_INSTALL_FULL_LIBDIR is a path inside the sysroot rather than
    an absolute path to the actual includes. Without this change poppler
    ends up passing a -I flag that does not exist.
    
    This includes fallback code for CMake 2.8, which adds a bit of complexity,
    since I'm not sure if raising the minimum to 3.0 (now over 8 years old)
    is acceptable.

commit c7bccf0515892617af984328e96cff5b4a6cd6d3
Author: Thomas Bracht Laumann Jespersen &lt;t@laumann.xyz&gt;
Date:   2022-08-07 16:42:01 +0200

    CMake: switch to GNUInstallDirs  (#1424)
    
    * Add GNUInstallDirs for standard installation directories
    
    Distributions are given standard variables for already existing hooks.
    Multiarch libdirs is taken care of automagically.
    Raises minimum cmake version by a little.
    
    * Handle CMAKE_INSTALL_xxx being absolute paths for .pc file generation
    
    In some cases the CMAKE_INSTAL_{BIN,MAN,DOC,LIB,INCLUDE}DIR variables
    may turn out to be absolute paths in which case prepending ${prefix} in
    the pkg-config .pc files will result in incorrect values.
    
    For .pc file generation, figure out if these variables are absolute and
    omit the prefix in the configured file when so.
    
    See: https://github.com/OSGeo/PROJ/commit/ab25e4b7ed9544e668282dcd293cfaaa2e56dbdf

commit e3f07dcc07c651321ec3b5f540ef698bbe6f1906
Merge: ca749616 dd1a2d64
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-06-30 12:57:39 +0200

    Merge pull request #1433 from rouault/fix_1432
    
    opj_t1_encode_cblk(): avoid undefined behaviour on fuzzed input (fixes #1432)

commit dd1a2d6480a4584896fda2f0072a723c572f2f29
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-06-29 11:47:58 +0200

    opj_t1_encode_cblk(): avoid undefined behaviour on fuzzed input (fixes #1432)

commit ca7496165649a826b9b11ab272acd4bdfe32f6ca
Merge: 0535bfc3 33824627
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-06-27 23:21:58 +0200

    Merge pull request #1431 from rouault/fix_1430
    
    Build: fix linking of executables on some systems where TIFF/LCMS2 static libraries are not in system directories (fixes #1430)

commit 338246278a8e753c36e8319044360eb7a84f6488
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-06-27 12:02:57 +0200

    Build: fix linking of executables on some systems where TIFF/LCMS2 static libraries are not in system directories (fixes #1430)
    
    Note that the fix might be partial only for static-only builds (cf
    comments)
    
    Ammends PR #866 and #867

commit 0535bfc3b7d5cd6fc73a7d4a6749a338fc5d7703
Author: Yuan &lt;zodf0055980@gmail.com&gt;
Date:   2022-05-31 17:55:12 +0800

    HT_DEC: Fix opj_t1_allocate_buffers malloc size error (#1426) (fixes #1413)

commit 52927287402a9f7353de8854c88f931051211e2f
Merge: 86ae7d80 098bb874
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-05-16 23:35:22 +0200

    Merge pull request #1423 from Neumann-A/patch-1
    
    Fix windows arm builds

commit 86ae7d80bff298e0e6134b5d0288f935e91cc766
Merge: 46b42b61 17d1bc7f
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-05-16 23:25:54 +0200

    Merge pull request #1421 from Biswa96/pkgconf-static
    
    pkgconfig: Define OPJ_STATIC for static linking with pkgconf

commit 098bb874db85c185e2e3598f735fece7552e6dca
Author: Alexander Neumann &lt;30894796+Neumann-A@users.noreply.github.com&gt;
Date:   2022-05-16 23:10:26 +0200

    Fix windows arm builds

commit 17d1bc7f1af8e797d00c510edcfc263e1097a87e
Author: Biswapriyo Nath &lt;nathbappai@gmail.com&gt;
Date:   2022-05-15 18:11:45 +0530

    pkgconfig: Define OPJ_STATIC for static linking with pkgconf
    
    allows for the usage of $(pkgconf --static --cflags libopenjp2) to produce
    the proper CFLAGS for static linking. Relies on pkgconf rather than pkg-config

commit 46b42b616dfcd25f683997a5ebc38c657b128394
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-05-13 20:17:50 +0200

    HOWTO-RELEASE: update

commit e29604cfca3f5525b82fcb1220dd69d78628123f
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-05-13 20:17:42 +0200

    abi_check.sh: comment OPJ_PREVIOUS_VERSION

commit 77e391cfe61ae8d0d251e2c7b083a0b9b1968927
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-05-13 19:13:11 +0200

    update tools/abi-tracker/openjpeg.json

commit 7065d2cd3f4ddf46a7b89969989079a3fe4cf306
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-05-13 19:02:54 +0200

    abi_check.sh: Update version number for automatic abi check

commit a5891555eb49ed7cc26b2901ea680acda136d811
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-05-13 18:54:29 +0200

    Prepare for 2.5.0 release

commit cf90ff0c57ad5b12aa6e227d7202960a5770144d
Author: Navidem &lt;navid.emamdoost@gmail.com&gt;
Date:   2022-05-13 11:18:47 -0500

    Separate fuzz targets to increase coverage (#1416)

commit a13f9793481ee452268e9b6956b11dc8f9c19c9d
Merge: 76c6a257 630b9d7f
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-05-13 17:58:38 +0200

    Merge pull request #1386 from DavidKorczynski/cifuzz
    
    CI: Add CIFuzz action

commit 76c6a257264da40fff1805cfc957536af451faff
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-05-08 19:45:42 +0200

    opj_compress.c: usage formatting fix

commit 576f72112e33e47152bbaa9630db6bfa949aa0aa
Merge: 30e7c88b 3ac495c7
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-05-07 11:52:20 +0200

    Merge pull request #1418 from LongerVision/master
    
    Java Support 1.8 now...

commit 30e7c88bdf02335225c7b6df0200a74e931a6a4f
Merge: 7b474e6d ef36cd01
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-05-07 11:52:09 +0200

    Merge pull request #1419 from rouault/fix_ci
    
    tools/travis-ci/install.sh: git clone with https:// to fix 'The unaut…

commit ef36cd015efcef463fdd8ba13f4b4598cfe3aa25
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-05-07 11:14:52 +0200

    Rename knownfailures-Ubuntu20.04-gcc9.3.0-x86_64-Release-3rdP.txt to knownfailures-Ubuntu20.04-gcc9.4.0-x86_64-Release-3rdP.txt

commit f7b5310e66d6c45253ac973af8138955b8071488
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-05-07 11:05:04 +0200

    .github/workflows/build.yml: force use of windows-2019 VM

commit af4fd8d317c161b2b08380c3fb08fbe357715eb5
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-05-07 10:55:00 +0200

    tools/travis-ci/install.sh: git clone with https:// to fix 'The unauthenticated git protocol on port 9418 is no longer supported.'

commit 7b474e6d815900eeebcaf03e44d8d076e3ee900a
Merge: 6a29f5a9 e33944ea
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-05-07 10:23:26 +0200

    Merge pull request #1410 from rouault/fix_1404
    
    CMakeLists.txt: do not set INSTALL_NAME_DIR for MacOS builds for CMake &gt;= 3.0 (fixes #1404)

commit 3ac495c7fc8c23010a15b3d282e1dbfb6422dae0
Author: Pei Jia &lt;jiapei@longervision.com&gt;
Date:   2022-05-06 18:27:27 -0700

    JAVA_SOURCE_VERSION from 1.6 to 1.8

commit e33944ea9e4aaf5763d4b2b25cc97cc021989948
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-02-13 10:42:47 +0100

    CMakeLists.txt: do not set INSTALL_NAME_DIR for MacOS builds for CMake &gt;= 3.0 (fixes #1404)

commit 6a29f5a9e3a1e2dbf1e3df22b7e449bc1db20b5c
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-02-10 15:49:57 +0100

    opj_j2k_decode_tile(): avoid 'Stream too short' error in non-strict mode

commit 3837ff1b1ac3ad81ec73024140a5e5eb1794123e
Merge: 883c31db 1462e940
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-02-10 15:13:49 +0100

    Merge pull request #1408 from rouault/fix_ossfuzz_44544
    
    Avoid integer overflows in DWT. Fixes https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=44544

commit 1462e9403fb7d1186e999701dfe72980262a089c
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-02-10 14:30:13 +0100

    Avoid integer overflows in DWT. Fixes https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=44544

commit 883c31dbe09771aab043744ac2b490d7386878e3
Author: Robert Gabriel Jakabosky &lt;rjakabosky+github@neoawareness.com&gt;
Date:   2022-02-10 21:27:17 +0800

    Add support for partial bitstream decoding (#1407) (fixes #715)
    
    Add a -allow-partial option to opj_decompress utility and a opj_decoder_set_strict_mode() option to the API
    
    Co-authored-by: Chris Hafey &lt;chafey@gmail.com&gt;

commit 99d555c0f1818277645a0c79a5199f2e827d68cc
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-01-26 21:52:40 +0100

    Add .github/ISSUE_TEMPLATE.md

commit a5c95cfe2617639e52e5892038e7876021bdd7ea
Merge: 241e9e8e 1de5fc6c
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-01-24 12:00:46 +0100

    Merge pull request #1403 from rouault/configure_guard_bits
    
    opj_encoder_set_extra_options(): add a GUARD_BITS=value option

commit 1de5fc6c51617f49515ef80708dd074432a27a6a
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-01-23 17:53:55 +0100

    opj_encoder_set_extra_options(): add a GUARD_BITS=value option
    
    and add a -GuardBits option to opj_compress.
    
    The recently-released SMPTE DCP Bv2.1 Application Profile (link below)
    says that the number of guard bits in the QCD marker shall be 1 for 2K
    content and 2 for 4K content. This change allows the number of guard bits
    to be configured, so that users of openjpeg have the control they need to meet the specification.
    
    https://ieeexplore.ieee.org/stamp/stamp.jsp?arnumber=9161348
    
    This is an alternative implementation of https://github.com/uclouvain/openjpeg/pull/1388
    that keeps ABI unchanged.

commit 241e9e8efeb6750ef4202a61b3a436628e4f6d23
Author: Eric Harvey &lt;71228603+Eharve14@users.noreply.github.com&gt;
Date:   2022-01-18 15:55:10 -0500

    Fix potential overflow related issues spotted by LGTM code analysis (#1402)

commit d87fd9279a9e0f8ce8fb23ab10e536410a907336
Merge: a1eec9c4 70f5e0a0
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-01-18 17:22:44 +0100

    Merge pull request #1401 from rouault/fix_1399
    
    opj_j2k_setup_encoder(): validate number of tiles to avoid illegal values and potential overflow (fixes #1399)

commit 70f5e0a0df0b97a5675673b779105dc8e5cfed30
Author: Even Rouault &lt;even.rouault@spatialys.com&gt;
Date:   2022-01-18 15:44:18 +0100

    opj_j2k_setup_encoder(): validate number of tiles to avoid illegal values and potential overflow (fixes #1399)

commit a1eec9c49e143fab0e0c0dcc13f94f11fef04f22
Author: Eric Harvey &lt;71228603+Eharve14@users.noreply.github.com&gt;
Date:   2022-01-16 12:54:00 -0500

    Fix unsigned vs OPJ_INT32 mismatches  (#1398)

commit 6e4588f379be0eb5b62fff65bf96aa1ca556ea96
Author: Eharve14 &lt;71228603+Eharve14@users.noreply.github.com&gt;
Date:   2022-01-15 09:33:03 -0500

    Added check for integer overflow in get_num_images  (#1397)
    
    As discussed in pull request 1396, added a check for integer overflow.
    Change list:
    Defined num_images as unsigned int
    Moved the if statement to check for an empty directory to the beginning of the read directory section
    Added a check to see if num images would roll back to zero when incrementing.

commit 1daaa0b909aebdf71be36238d16dfbec83c494ed
Author: Eharve14 &lt;71228603+Eharve14@users.noreply.github.com&gt;
Date:   2022-01-13 15:05:52 -0500

    Avoid overflow in multiplications in utilities related to big number of files in a directory (CVE-2021-29338)  (#1396)

commit 79c7d7af598b778c3cdcb455df23d50efc95eb3c
Author: Brad Parham &lt;baparham@gmail.com&gt;
Date:   2022-01-12 13:46:10 +0100

    opj_compress/opj_uncompress: fix integer overflow in num_images (#1395)
    
    Includes the fix for CVE-2021-29338
    Credit to @kaniini based on #1346
    Fixes #1338

...</pre></div>

</body>
</html>
